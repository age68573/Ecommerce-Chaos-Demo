{% extends "base.html" %}
{% block content %}
<h1>編輯會員</h1>

{% if errors %}
  <div style="background:#fee2e2; color:#991b1b; padding:0.75rem 1rem; border-radius:8px; margin-bottom:1rem;">
    <ul style="margin:0; padding-left:1.25rem;">
      {% for e in errors %}
        <li>{{ e }}</li>
      {% endfor %}
    </ul>
  </div>
{% endif %}

<form method="post"
      style="background:#fff; padding:1.5rem; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,0.05); max-width:520px;">

  <div style="margin-bottom:0.75rem;">
    <label>Username</label><br>
    <input type="text" name="username" value="{{ form_data.username if form_data else '' }}"
           style="width:100%; padding:0.4rem;">
  </div>

  <div style="margin-bottom:0.75rem;">
    <label>Email</label><br>
    <input type="email" name="email" value="{{ form_data.email if form_data else '' }}"
           style="width:100%; padding:0.4rem;">
  </div>

  <div style="margin-bottom:0.75rem;">
    <label style="display:flex; gap:0.5rem; align-items:center;">
      <input type="checkbox" name="is_admin" {% if form_data and form_data.is_admin %}checked{% endif %}>
      設為 Admin
    </label>
    <div style="font-size:0.85rem; color:#6b7280;">
      注意：不能取消最後一個 Admin。
    </div>
  </div>

  <div style="margin-top:1rem;">
    <button type="submit" class="btn btn-primary">儲存</button>
    <a href="{{ url_for('admin_user.user_list') }}" class="btn btn-outline">返回列表</a>
  </div>
</form>
{% endblock %}
